{
  "network_name": "Multi-AS-Network",
  "project_settings": {
    "output_folder": "output"
  },

  "autonomous_systems": [
    {
      "name": "AS_TRANSIT",
      "role": "transit",
      "asn": 65001,
      "igp": {
        "protocol": "RIP",
        "version": 2
      },
      "routers": [
        { "name": "R1", "loopback": "1.1.1.1/32" },
        { "name": "R2", "loopback": "2.2.2.2/32" },
        { "name": "R3", "loopback": "3.3.3.3/32" },
        { "name": "R4", "loopback": "4.4.4.4/32" }
      ],
      "ibgp": {
        "type": "full-mesh",
        "update_source": "loopback",
        "send_community": true
      },
      "advertise_loopback": true
    },

    {
      "name": "AS_Y",
      "role": "transit",
      "asn": 65002,
      "igp": {
        "protocol": "OSPF",
        "process_id": 1,
        "area": 0
      },
      "routers": [
        { "name": "R5", "loopback": "5.5.5.5/32" },
        { "name": "R6", "loopback": "6.6.6.6/32" },
        { "name": "R7", "loopback": "7.7.7.7/32" },
        { "name": "R8", "loopback": "8.8.8.8/32" }
      ],
      "ibgp": {
        "type": "full-mesh",
        "update_source": "loopback",
        "send_community": true
      },
      "advertise_loopback": true
    },

    {
      "name": "AS_TERM_CUSTOMER",
      "role": "customer",
      "asn": 65003,
      "igp": {
        "protocol": "OSPF",
        "process_id": 1,
        "area": 0
      },
      "routers": [
        { "name": "C1", "loopback": "10.10.10.1/32" }
      ],
      "advertise_loopback": true,
      "bgp_policy": "none"
    },

    {
      "name": "AS_TERM_PEER",
      "role": "peer",
      "asn": 65004,
      "igp": {
        "protocol": "OSPF",
        "process_id": 1,
        "area": 0
      },
      "routers": [
        { "name": "P1", "loopback": "20.20.20.1/32" }
      ],
      "advertise_loopback": true,
      "bgp_policy": "none"
    }
  ],

  "bgp": {
    "communities": {
      "customer": "65001:100",
      "peer": "65001:200",
      "provider": "65001:300"
    },
    "local_preference": {
      "customer": 200,
      "peer": 150,
      "provider": 50
    },
    "propagation_policy": {
      "to_customer": ["customer", "peer", "provider"],
      "to_peer": ["customer"],
      "to_provider": ["customer"]
    },

    "ebgp_peers": [
      {
        "local_router": "R1",
        "remote_router": "C1",
        "remote_as": 65003,
        "relationship": "customer"
      },
      {
        "local_router": "R2",
        "remote_router": "P1",
        "remote_as": 65004,
        "relationship": "peer"
      }
    ]
  },

  "links": [
    {
      "endpoints": [
        { "device": "R1", "interface": "GigabitEthernet1/0", "ip": "192.168.100.1/30" },
        { "device": "C1", "interface": "GigabitEthernet1/0", "ip": "192.168.100.2/30" }
      ]
    },
    {
      "endpoints": [
        { "device": "R2", "interface": "GigabitEthernet3/0", "ip": "192.168.200.1/30" },
        { "device": "P1", "interface": "GigabitEthernet3/0", "ip": "192.168.200.2/30" }
      ]
    }
  ]
}
